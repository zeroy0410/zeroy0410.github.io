<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Articles | zeroy&#39;s blog</title>
<meta name="keywords" content="" />
<meta name="description" content="Articles - zeroy&#39;s blog">
<meta name="author" content="zeroy">
<link rel="canonical" href="https://zeroy.site/articles/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://zeroy.site/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://zeroy.site/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://zeroy.site/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://zeroy.site/apple-touch-icon.png">
<link rel="mask-icon" href="https://zeroy.site/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.92.0" />
<link rel="alternate" type="application/rss+xml" href="https://zeroy.site/articles/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Articles" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://zeroy.site/articles/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Articles"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Articles",
      "item": "https://zeroy.site/articles/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zeroy.site/" accesskey="h" title="zeroy&#39;s blog (Alt + H)">zeroy&#39;s blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zeroy.site/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://zeroy.site/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://zeroy.site/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://zeroy.site/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
            <li>
                <a href="https://zeroy.site/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://zeroy.site/links/" title="友链">
                    <span>友链</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://zeroy.site/">Home</a></div>
  <h1>Articles</h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[PWN.0x00]函数调用栈结构与栈迁移
    </h2>
  </header>
  <section class="entry-content">
    <p>前置知识：汇编语言（第4版）前半本
 注：本文适用于32位程序，示意图中上为高地址区，下为低地址区。若方框中字体为蓝色表示此处内存的地址，为黑色表示此处内存存储的值。示意图中leave均表示leave|ret
 函数调用栈的基本结构 一些寄存器的作用：
EIP：存储着下一条指令的地址，每执行一条指令，该寄存器变化一次。
EBP：存储着当前函数栈底的地址，通过将其与偏移地址相加减获取变量的地址。
ESP：始终指向栈顶。
在进入一个函数时，会执行如下操作。
push eip&#43;4push ebpmov ebp,esp在执行完退出时，会执行如下操作。
mov esp,ebppop ebppop eip即leave和ret。
整个过程描述起来就是，先将函数执行完成之后应当去执行的语句（eip&#43;4）和主程序的的基址（ebp）压入栈中，然后再将ebp指向栈底。在函数执行完之后，再进行一遍上述过程的逆过程。
函数调用栈工作时的结构如下图：
其中val0地址处存储主程序传入的参数，如果有多个传入参数，它们将按照从右到左的顺序被push入栈中，val1~3为函数申请的局部变量。它们将按照申请的顺序被放入栈中。举例来讲，形如：
void func(int a){ int b,c; char s[10]; } 这样的函数，a将被存入val0，b将被存入val1，c将被存入val2，s将被存入val3。
考虑最基础的栈溢出题目，由于程序将按照地址从低到高的顺序存储字符串变量，所以当s的数据由选手掌控且溢出空间足够大时，s将溢出到val2，val3，甚至旧ebp，eip的位置上。所以选手就可以控制旧ebp，eip处的内容，实现劫持程序返回，让程序执行恶意代码的目的。
但有时候，选手能掌控的数据量很有限，不足以支持我们完成过于复杂的劫持指令，对于这种情况，其中一种解题方法就是栈迁移。
栈迁移 栈迁移的核心思想是劫持当前函数已经压入栈中的eip段，将其内容改为一次leave，同时修改旧ebp段，借助旧ebp为跳板，实现对esp的控制，进而在下一次ret中，修改eip的值，实现目的。
也就是说，要构造栈中数据如图所示：
至于为什么要-4，后面模拟的过程中读者自能体会。
好了，现在当前函数已经执行完了，程序将自行执行一次leave和ret。执行之后的结果如图：
然后程序会执行eip指向的地址的命令，即再执行一次leave，ret，执行后栈的情况如图：
这样我们就完成了借助ebp为跳板，将esp指向目标eip的位置，控制程序在最后一次ret（即pop eip）的时候，将eip赋值成了我们想让它执行的函数的地址。
例题：ciscn_2019_s_4 BUUCTF在线评测 (buuoj.cn)
所谓“从零开始的Pwner生活”第一题，差点直接给我整劝退。
惯例checksec，只开了NX。
ida分析得到：
int vul() { char buf[40]; // [esp&#43;0h] [ebp-28h] BYREF  memset(buf, 0, 0x20u); read(0, buf, 0x30u); printf(&#34;Hello, %s\n&#34;, buf); read(0, buf, 0x30u); return printf(&#34;Hello, %s\n&#34;, buf); } 发现只有8个字节的溢出空间，不足以支持一次完整的ROP，但是可以读两次，且第一次读入有输出，因此可以利用第一次读入来泄露ebp（注：这里的ebp指的是vul函数的ebp，即read函数栈帧中的旧ebp）。...</p>
  </section>
  <footer class="entry-footer"><span title='2022-03-05 20:30:31 +0800 CST'>March 5, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to [PWN.0x00]函数调用栈结构与栈迁移" href="https://zeroy.site/articles/CTFpwn1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>[PWN.0x01]canary|partial overwrite|ret2libc
    </h2>
  </header>
  <section class="entry-content">
    <p>canary绕过 什么是canary？ canary是一种防止栈溢出的保护机制，可以在终端中使用checksec命令检查ELF文件是否开启了canary保护。
是否开启canary的编译选项：
gcc -o test test.c // 默认情况下，不开启Canary保护 gcc -fno-stack-protector -o test test.c //禁用栈保护 gcc -fstack-protector -o test test.c //启用堆栈保护，不过只为局部变量中含有 char 数组的函数插入保护代码 gcc -fstack-protector-all -o test test.c //启用堆栈保护，为所有函数插入保护代码 在开启了canary的情况下，程序会在栈底额外存储一个值，并在函数return的时候检查这个值是否发生变动，从而判断程序是否发生了栈溢出，可以大大提高程序运行的安全性。
如何绕过canary？ canary本身有个防意外输出的机制，由于printf %s函数以\x00为输出结束的标志，因此为了防止canary下面的合法数据段被合法写入的情况下，canary被printf函数意外输出，所以在小端序程序中，canary的最低位字节一定为\x00，因此可以进行partial overwrite，即部分覆盖。在写完合法的区域之后，溢出写入一个字节的数据把canary末尾的\x00覆盖掉，这样之后的printf函数就会顺带着泄露canary的值。
ret2libc 概述 在较为基础的pwn题中一般都有一个显性的system函数和/bin/sh字符串供选手调用。
如果这两者都不显性存在，就可以使用ret2libc方法。
这种方法主要针对**动态链接（dynamic linking）**的程序，程序运行时会调用 libc.so (程序被装载时，动态链接器会将程序所有所需的动态链接库加载至进程空间，libc.so 就是其中最基本的一个)。
libc.so 是 linux 下 C 语言库中的运行库glibc 的动态链接版，并且 libc.so 中包含了大量的可以利用的函数，包括 system() 、execve() 等系统级函数，我们可以通过找到这些函数在内存中的地址覆盖掉返回地址来获得当前进程的控制权。通常情况下，我们会选择执行 system(&#34;/bin/sh&#34;) 来打开 shell。
工作重心转向获取libc.so加载进内存的可利用的函数的地址。
什么是动态链接？ 深入理解动态链接 - 简书 (jianshu.com)
深入理解GOT表和PLT表 - 知乎 (zhihu.com)
got表和plt表在程序执行过程中的作用 - 云&#43;社区 - 腾讯云 (tencent....</p>
  </section>
  <footer class="entry-footer"><span title='2022-03-05 20:30:31 +0800 CST'>March 5, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to [PWN.0x01]canary|partial overwrite|ret2libc" href="https://zeroy.site/articles/CTFpwn1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>基于go-cqhttp的机器人NoyaBot
    </h2>
  </header>
  <section class="entry-content">
    <p>前言 2月14情人节过于孤独，于是萌生了写个qqbot玩的想法。
概述 项目地址：zeroy0410/NoyaBot (github.com)
配置完go-cqhttp的基本信息之后，就可以用它的api来操纵bot的账号进行各种操作，同时go-cqhttp会转发接收到的信息到指定端口。只需要在本地搭建一个服务器对收到的信息进行一定规则的回复即可。
我使用了Python-Flask作为项目的框架。
机器人功能（截止2022/3/3）
 闲聊   回答指定的问题 设定回答问题的概率   数学计算   计算能用一行字符串表示的Sympy库格式的数据   一言 翻译  /teach A|B #当输入为A时以B来回答 /let talk_enable (True or False) #是否在群内开启闲聊 /let talk_probability 一个浮点数 #闲聊时接话的概率 /ask A #问话就会回答（无视上面两条指令的限制） /calc sympy库格式的一条算式 #不要尝试计算复杂度过高的式子，计算时间过长会阻塞进程 /hito 参数# 一言参数参考https://hitokoto.cn/ /trans 内容|from|to #如trans Hello World!|en|zh 英译中 注意事项 数学计算功能使用了eval函数让python能够解析输入的代码，我过滤掉了大部分常用的注入语句，但仍有被注入的风险。</p>
  </section>
  <footer class="entry-footer"><span title='2022-03-03 10:04:25 +0800 CST'>March 3, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to 基于go-cqhttp的机器人NoyaBot" href="https://zeroy.site/articles/noya/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>高等数学（上） 不定积分 总结
    </h2>
  </header>
  <section class="entry-content">
    <p>高等数学上册(微积分)必背公式总结 - 知乎 (zhihu.com)
导数： $$ \begin{align} &amp;[\cos(\omega x&#43;\varphi)]^{(n)}=\omega^n\cos(\omega x&#43;\frac{n\pi}{2}&#43;\varphi)\\ &amp;[\sin(\omega x&#43;\varphi)]^{(n)}=\omega^n\sin(\omega x&#43;\frac{n\pi}{2}&#43;\varphi)\\ \end{align} $$
重难点公式： $$ \begin{align} &amp;\int\frac{1}{a^2&#43;x^2}dx=\frac{1}{a}arctan\frac{x}{a}&#43;C\\ &amp;\int\frac{1}{a^2-x^2}dx=\frac{1}{2a}ln|\frac{a&#43;x}{a-x}|&#43;C\\ &amp;\int\frac{1}{\sqrt{a^2-x^2}}dx=arcsin\frac{x}{a}&#43;C\\ &amp;\int\frac{1}{\sqrt{x^2\pm a^2}}dx=ln|x&#43;\sqrt{x^2\pm a^2}|&#43;C\\ &amp;\int{tan\ x}dx=-ln|cos\ x|&#43;C\\ &amp;\int{cot\ x}dx=ln|sin\ x|&#43;C\\ &amp;\int{csc\ x}dx=ln|csc\ x-cot\ x|&#43;C\\ &amp;\int{sec\ x}dx=ln|sec\ x&#43;tan\ x|&#43;C\\ &amp;\int{sec^2\ x}dx=tan\ x&#43;C\\ &amp;\int{csc^2\ x}dx=-cot\ x&#43;C\\ &amp;\int{sec\ x*tan\ x}dx=sec\ x&#43;C\\ &amp;\int{csc\ x*cot\ x}dx=-csc\ x&#43;C\\ \end{align} $$
凑系数，拆项： $$ \int{\frac{x}{(2x&#43;3)^2}}dx=\frac{1}{2}\int{\frac{2x&#43;3-3}{(2x&#43;3)^2}}dx=\frac{1}{2}\int{\frac{2x&#43;3}{(2x&#43;3)^2}}dx-\frac{1}{2}\int\frac{3}{(2x&#43;3)^2}dx\ … $$ 分子包含多项的，直接无法求解可以拆项求。
常见的配凑： $$ \begin{align} &amp;xe^x:\\ &amp;\int\frac{1&#43;x}{x(xe^x&#43;1)}dx=\int\frac{(1&#43;x)e^x}{xe^x(xe^x&#43;1)}dx=\int\frac{1}{xe^x(xe^x&#43;1)}d(xe^x)\overset{t=xe^x}=\int\frac{1}{t(t&#43;1)}dt\\ &amp;xlnx:\\ &amp;\int\frac{(1&#43;lnx)dx}{1&#43;x^2ln^2x}=\int\frac{1}{1&#43;(xlnx)^2}d(xlnx)\\ &amp;\frac{1}{\sqrt{x}}:\\ &amp;\int\frac{1}{\sqrt{x(x&#43;4)}}dx=2\int\frac{1}{2\sqrt{x}\sqrt{x&#43;4}}dx=2\int\frac{1}{\sqrt{4&#43;\sqrt{x}^2}}d{\sqrt{x}}\\ &amp;e^x:\\ &amp;\int f(e^x){\rm dx}=\int\frac{f(e^x)}{e^x}{\rm de^x}=\int\frac{f(t)}{t}{\rm dt} \end{align} $$...</p>
  </section>
  <footer class="entry-footer"><span title='2022-02-16 15:38:32 +0800 CST'>February 16, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to 高等数学（上） 不定积分 总结" href="https://zeroy.site/articles/math-integrate/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Golang|Gin Web development for Beginners
    </h2>
  </header>
  <section class="entry-content">
    <p>自带的net/http库的使用 http库提供了HTTP服务的用户端和服务端的实现。
官方文档
Go语言基础之net/http | 李文周的博客 (liwenzhou.com)
示例代码
监听本地端口，在浏览器输出Hello World字符串。
func sayHello(w http.ResponseWriter,r *http.Request){ //ResponseWriter为服务端返回的内容 	fmt.Fprintln(w, &#34;Hello World!&#34;) } func main(){ http.HandleFunc(&#34;/&#34;,sayHello) http.ListenAndServe(&#34;:8080&#34;,nil) } Gin框架 简介 Gin 是一个用 Go (Golang) 编写的 HTTP web 框架。 它是一个类似于 martini 但拥有更好性能的 API 框架, 优于 httprouter，速度提高了近 40 倍。如果你需要极好的性能，使用 Gin 吧。
官方中文文档
Gin框架介绍及使用 | 李文周的博客 (liwenzhou.com)
特性
Gin v1 稳定的特性:  零分配路由。 仍然是最快的 http 路由器和框架。 完整的单元测试支持。 实战考验。 API 冻结，新版本的发布不会破坏你的代码。  框架初识 使用Gin框架返回一个json文件
func sayHello(c *gin.Context/*gin框架中的临时变量，便于后续响应请求*/){ c....</p>
  </section>
  <footer class="entry-footer"><span title='2022-02-11 16:31:25 +0800 CST'>February 11, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to Golang|Gin Web development for Beginners" href="https://zeroy.site/articles/Golang-web1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>数据库基础|JDBC入门|Druid连接池的简单配置
    </h2>
  </header>
  <section class="entry-content">
    <p>数据库基础 增 新建数据库
CREATE DATABASE {{name}} 新建数据表
CREATE TABLE {{name}}( {{列名}} {{数据类型}} {{约束}}, ..... ); EXAMPLE: CREATE TABLE Users( id int primary key, name varchar(30) NOT NULL, birthday date, score int NOT NULL ); 添加外键约束
建表时添加
CONSTRAINT {{键名}} FOREIGN KEY({{当前表列名}}) REFERENCES {{别的表(别的表列名)}} 建表后添加
alter table {{表名}} add CONSTRAINT {{键名}} FOREIGN KEY({{当前表列名}}) REFERENCES {{别的表(别的表列名)}} 插入元素
EXAMPLE: 向一张名为users的数据表中插入元素： INSERT INTO users(id,name,birthday,score) VALUES (1,&#39;zeroy&#39;,&#39;2003-4-10&#39;,100) , (2,&#39;admin&#39;,&#39;2003-4-10&#39;,99) 查 SELECT {{列名}} FROM {{表名}} WHERE {{条件}} GROUP BY {{分组字段}} HAVING {{分组后条件}} ORDER BY {{排序字段}} LIMIT {{分页限定}} 改 UPDATE {{表名}} set {{程序语句}} WHERE {{条件}} 事务 事务能实现多条命令捆绑，一旦失败，会回滚所有操作。...</p>
  </section>
  <footer class="entry-footer"><span title='2022-02-07 22:36:05 +0800 CST'>February 7, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to 数据库基础|JDBC入门|Druid连接池的简单配置" href="https://zeroy.site/articles/database-for-beginner/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>正则表达式 For Beginner
    </h2>
  </header>
  <section class="entry-content">
    <p>简介 正则表达式（英语：Regular Expression，常简写为regex、regexp或RE），又称正则表示式、正则表示法、规则表达式、常规表示法，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些匹配某个模式的文本。
许多程序设计语言都支持利用正则表达式进行字符串操作。例如，在Perl中就内建了一个功能强大的正则表达式引擎。正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。
语法总结 需要转义的特殊字符：
.[{()\^$|?*&#43;就像在其它任何语言中那样，转义需要在符号前加上\。
匹配规则：
. - 除了新行外的任何字符\d - 数字 (0-9)\D - 非数字 (0-9)\w - 单词字母 (a-z, A-Z, 0-9, _)\W - 非单词字母\s - 空字符 (space, tab, newline)\S - 非空字符 (space, tab, newline)\b - 单词边界\B - 非单词边界^ - 字符串开头（默认将一行看作一整个字符串）$ - 字符串结尾（默认将一行看作一整个字符串）[] - 匹配字符集[^ ] - 匹配除了字符集外的字符| - 或者( ) - GroupQuantifiers:* - 0 or More&#43; - 1 or More?...</p>
  </section>
  <footer class="entry-footer"><span title='2022-02-03 16:00:45 +0800 CST'>February 3, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to 正则表达式 For Beginner" href="https://zeroy.site/articles/regular-expression/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Flask学习1 TallyApp beta 0.9
    </h2>
  </header>
  <section class="entry-content">
    <p>功能描述  支持注册和登录 支持简单的分类记账 支持以饼图的形式展现各个分类占总体收支的数目 支持增删改数据 支持以一定的xlsx格式导入导出数据  基本结构 Demo 项目地址
技术路线 后端：python-Flask
前端：BootStrap
踩过的坑  程序开始时数据库需要已经初始化完毕db.create_all() 使用get方法传参会出未知问题，故全部改为使用url传参 浮点误差会让数据很奇怪，注意保留两位小数 不同的数据类型（pandas与string）可能会让数据显示异常（空数据显示为’None&#39;）  Docker应用部署细节 Flask本身不带服务器，使用gunicorn来使得web应用能够在服务器上被访问。
使用阿里云作为Docker Hub。
#注册完阿里云的镜像服务之后 #登录 docker login --username={{your username}} registry.cn-hangzhou.aliyuncs.com/ #命名并上传本地docker镜像 docker tag tallyapp registry.cn-hangzhou.aliyuncs.com/tally_app/tallyapp:{{version}} docker push tallyapp registry.cn-hangzhou.aliyuncs.com/tally_app/tallyapp:{{version}} #拉取镜像 docker pull tallyapp registry.cn-hangzhou.aliyuncs.com/tally_app/tallyapp:{{version}} 将本地数据库挂载到Docker容器中，并运行容器。
docker run -d -p 8080:8080 -v /database:/soft/TallyApp/database {{images_id}} </p>
  </section>
  <footer class="entry-footer"><span title='2022-02-01 19:35:39 +0800 CST'>February 1, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to Flask学习1 TallyApp beta 0.9" href="https://zeroy.site/articles/tallyapp1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>使用PySimpleGUI库构建简单的图形界面
    </h2>
  </header>
  <section class="entry-content">
    <p>前言 python构建本地GUI程序有很多方式，比如Tkinter，wxPython，或是PyQT。但是对于学生而言，并不需要多么华丽的用户界面，只需要“能用”就行了，开发环节越省力越好。
于是我找到了PySimpleGUI这个库。
A introduction to PySimpleGUI
这个库提供了一种近乎傻瓜化的方式，采用List来描述一个GUI界面，同时支持一个简单程序需要的全部特性，并且支持Win/Mac/Linux三大平台，十分适合拿来封装代码。
安装 pip install PySimpleGUI在文件开头加上库引用：
import PySimpleGUI as sg 元素 PySimpleGUI有着丰富的控件支持。
 文本框（Text）  sg.Text(&#39;文本框&#39;,size=(12,1),key=&#39;output&#39;) &#39;文本框&#39;为框体显示的文字，size为框体的大小，key为框体标识，用于之后对文本框的定位。
输入框（Input）  sg.Input(key=&#39;input&#39;) 按钮（Button）  sg.Button(&#39;Go&#39;) &#39;Go&#39;为按钮的名字。也可以另外设置key值。
下拉框（Comobo）  [ sg.Text(&#34;City&#34;, size = (20, 1)), sg.Combo((&#34;北京&#34;, &#34;上海&#34;, &#34;深圳&#34;), size=(10, 1), default_value=&#34;上海&#34;, key = &#34;-CITY-&#34;)] 弹窗（Popup）  sg.Popup(&#39;弹窗1&#39;,&#39;This is the first one&#39;) sg.Popup(&#39;弹窗2&#39;,&#39;This is the second one&#39;) sg.Popup(&#39;弹窗3&#39;,&#39;This is the third one&#39;) 弹出一个窗口包含标题和内容。
选择文件（FileBrowse）  sg.FileBrowse() 选择文件路径（FolderBrowse）  sg....</p>
  </section>
  <footer class="entry-footer"><span title='2022-01-26 16:49:18 +0800 CST'>January 26, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to 使用PySimpleGUI库构建简单的图形界面" href="https://zeroy.site/articles/PySimpleGUI/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Bilibili直播弹幕收发小程序
    </h2>
  </header>
  <section class="entry-content">
    <p>项目地址
需求分析 在Linux下直播看不到弹幕，无法与观众互动。
实现过程 第一阶段 问题可拆分为收与发。
可行性分析 B站有API能够返回一个直播间最近的10条弹幕，可以依赖这个API接收弹幕。
抓包可知一次发送弹幕的行为即为一次POST请求，可以使用python脚本实现发送信息。
分别编写发送和接收弹幕的程序。开两个终端使用。
第二阶段 开两个终端切换较为麻烦，于是萌生了把两个程序整合成一个的想法，想实现类似网页的上方是弹幕下方是输入框的效果。
可行性分析 弹幕的动态捕捉依赖间隔固定时间地获取最近10条弹幕，提取出新的弹幕，显示在终端上，但是如果整合进输入程序，输入方法会阻塞进程，如果一直不输入就没有办法获取新的弹幕，所以需要为输入设定超时。
查阅资料得知，为输入方法设定超时需要使用多线程，或者异步异常信息处理，刚学py，不会这些。。。
查阅英文资料和pypi得知，python有个inputimeout库可以处理超时输入的问题，所以就整上了。
但是在现在这一流程中，每次输入超时都需要清屏，这样每次更新弹幕的时候都会闪一下，体验非常不好。
第三阶段 有没有办法实现一个terminal中分屏显示都个session呢？
可行性分析 结合我个人的Linux使用经验，可以使用tmux这个工具实现分屏操作，所以第二阶段的工作就白做了。。。
最终效果 不足与提升空间 冷启动时需要较多的步骤，不够优雅。
未来可以尝试使用GUI框架封装代码，实现一个输出框一个输入框收发代码。
1/25 Update 采用PysimpleGUI这个最简单的GUI库封装了代码，现在很好用（）</p>
  </section>
  <footer class="entry-footer"><span title='2022-01-18 15:32:48 +0800 CST'>January 18, 2022</span>&nbsp;·&nbsp;zeroy</footer>
  <a class="entry-link" aria-label="post link to Bilibili直播弹幕收发小程序" href="https://zeroy.site/articles/Bilibili-send-and-receive/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://zeroy.site/articles/page/2/"> »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://zeroy.site/">zeroy&#39;s blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></body>

</html>
